# 設計問答集

## Pieceクラスのデフォルトコンストラクタを定義すべきか
- `Piece` は `PieceType (enum)` と `PlayerSide (enum)` をメンバに持つ。
- 意味のない駒（不正な初期状態）を生成したくないためデフォルト構築を禁じたいという動機。
- しかし、`Piece` をメンバに持つ構造体やクラスの初期化が煩雑になる。
- 結論: デフォルトコンストラクタを用意して運用し、デフォルト値から変更されないことによる不具合が出た段階で再検討する。

## 駒の動きの種類
- 駒を動かす
- 駒を取る
- 駒を成る
- 駒を打つ

## Move構造体の定義配置 (MoveManager.h に含めるべきか)
- 他クラスが `Move` 構造体だけ必要な場合に `MoveManager` まで読み込むのは無駄。
- 方針: まず `Move.h` として独立。後で統合可能なタイミングが来たら再配置を検討。

## std::move 使用判断
- まだ習熟不足と認識。
- （運用メモ）右辺値化の目的: 所有権移動 / コピー回避。不要な場面で付けない癖づけ、戻り値最適化に過信しすぎない。

## vector と array の使い分け
- 要素数が固定でサイズ変更不要 → `std::array`
- 可変長 / 要素追加・削除など柔軟性が必要 → `std::vector`

## テストプロジェクトを含めたときのフォルダ構成

### 設計要件
1. **テストの即時実行性**: アプリ本体とテストを別ソリューションに分けず、同一ソリューション内で管理。
2. **ビルドの明確な分離**: テストプロジェクトのビルドが本体のビルド成果物を汚染しない。
3. **GoogleTest の制約回避**: GoogleTest は Debug/Release 構成のみサポート。独自のビルド構成追加は避ける。

### 採用方針: codetop / testtop プロジェクト方式
- **単一ソリューション構成**: `Shoryu.sln` にすべてのプロジェクトを含める。
- **codetop プロジェクト**: 
  - 空のプロジェクト (ソースコード・エントリポイントなし)。
  - アプリ本体に必要なプロジェクトへの依存関係のみを定義。
  - `codetop` をビルドすると、アプリ本体に必要なプロジェクト群が自動的にビルドされる。
- **testtop プロジェクト**:
  - 空のプロジェクト (ソースコード・エントリポイントなし)。
  - テスト実行に必要なプロジェクトへの依存関係のみを定義。
  - `testtop` をビルドすると、テストプロジェクト群とその依存ライブラリが自動的にビルドされる。

### 推奨フォルダ構成